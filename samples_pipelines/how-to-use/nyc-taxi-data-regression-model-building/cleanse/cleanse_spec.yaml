amlModuleIdentifier:
  moduleName: Cleanse Taxi Data
  moduleVersion: 0.0.1
  namespace: microsoft.com/azureml/samples
inputs:
- name: Raw data
  type: AzureMLDataset
- name: Useful columns
  type: String
- name: Columns
  type: String
outputs:
- name: Output cleanse
  type: DataFrameDirectory
implementation:
  container:
    amlEnvironment:
      docker:
        baseImage: mcr.microsoft.com/azureml/intelmpi2018.3-ubuntu16.04
      python:
        condaDependencies:
          name: project_environment
          channels:
            - defaults
            - pandas
            - scikit-learn
          dependencies:
            - python=3.7.6
            - pip:
              - azureml-sdk==0.1.0.*
              - azureml-designer-core==0.0.31
              - azureml-dataset-runtime[fuse,pandas]
              - --index-url https://azuremlsdktestpypi.azureedge.net/dev/aml/office/134157926D8F 
              - --extra-index-url https://pypi.org/simple
              - pyarrow
    command: [python, cleanse.py]
    args: [
      --raw_data, {inputPath: Raw data},
      --useful_columns, {inputValue: Useful columns},
      --columns, {inputValue: Columns},
      --output_cleanse, {outputPath: Output cleanse},
    ]